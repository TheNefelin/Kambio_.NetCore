<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:components="clr-namespace:MauiKambio.Components"
             x:Class="MauiKambio.Pages.ExplorerPage"          
             Title="Inicio">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <ActivityIndicator x:Name="loading" IsVisible="False" IsRunning="True" Color="{StaticResource GreenHard}" HorizontalOptions="Center" VerticalOptions="Center"/>

        <StackLayout Grid.Row="0" Padding="10,0,10,10" Spacing="10">
            <SearchBar Placeholder="Buscar" Background="{StaticResource GreenHard}"></SearchBar>

            <Grid>
                <Button Text="Filtrar" ImageSource="icon_filter_g_32.phg" HorizontalOptions="Start" TextColor="{StaticResource GreenHard}" Background="Transparent"/>
                <Button Text="Publicar" FontAttributes="Bold" CornerRadius="50" MinimumWidthRequest="120" HorizontalOptions="End"/>
            </Grid>
        </StackLayout>

        <ScrollView Grid.Row="1">
            <CollectionView ItemsSource="{Binding Products}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>

                        <components:ProductContent Product="{Binding}" ProductClicked="OnProductClicked"/>

                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </ScrollView>
    </Grid>
    
</ContentPage>